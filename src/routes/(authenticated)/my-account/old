<form class="flex flex-col gap-4" onsubmit={onPersonalDataFormSubmit}>
					<ProfileInput
						label={m.phoneNumber()}
						bind:value={phone}
						placeholder="+491234567890"
						required
						pattern={`^\\+\\d{1,3}\\d{3,15}$`}
						defaultValue="+49"
						type="tel"
					/>
					<ProfileInput bind:value={street} label={m.address()} placeholder={m.street()} required />
					<ProfileInput bind:value={apartment} placeholder={m.streetAddition()} />
					<ProfileInput bind:value={zip} placeholder={m.zipCode()} required />
					<ProfileInput bind:value={city} placeholder={m.city()} required />
					<ProfileSelect
						bind:value={country}
						placeholder={m.pleaseSelectCountry()}
						options={addressCountries
							.map((c) => ({ value: c.iso_code, label: countryCodeToLocalName(c.iso_code, 'de') })) // TODO Add locale
							.sort((a, b) => a.label.localeCompare(b.label))}
						required
					/>
					<!-- TODO seems to be broken -->
					<ProfileInput
						bind:value={birthday}
						label={m.birthDate()}
						placeholder={m.birthDate()}
						required
						type="date"
						pattern="^[0-3]\d[\.[0-1]\d\.\d{4}$"
						max={new Date(
							new Date().getFullYear() - 10,
							new Date().getMonth(),
							new Date().getDate()
						)
							.toISOString()
							.split('T')[0]}
					/>
					<ProfileSelect
						bind:value={gender}
						label={m.gender()}
						placeholder={m.pleaseSelect()}
						options={[
							{ value: 'm', label: m.male() },
							{ value: 'f', label: m.female() },
							{ value: 'd', label: m.diverse() },
							{ value: 'n', label: m.unspecified() }
						]}
						required
					/>

					<ProfileInput
						bind:value={pronouns}
						label={m.pronouns()}
						placeholder={m.pronounsExample()}
						required
					/>

					<ProfileSelect
						bind:value={foodPreference}
						label={m.diet()}
						placeholder={m.pleaseSelect()}
						options={[
							{ value: 'VEGAN', label: m.vegan() },
							{ value: 'VEGETARIAN', label: m.vegetarian() },
							{ value: 'OMNIVORE', label: m.omnivore() }
						]}
						required
					/>

					<Checkbox
						bind:checked={wantsToReceiveGeneralInformation}
						label={m.receiveGeneralInformation()}
					/>

					<Checkbox
						bind:checked={wantsJoinTeamInformation}
						label={m.receiveJoinTeamInformation()}
					/>

					<button class="btn btn-primary btn-block mt-4" type="submit">
						{#if !data.redirectUrl}
							{m.save()}
							<i class="fas fa-save"></i>
						{:else}
							{m.saveAndContinue()}
							<i class="fas fa-arrow-right"></i>
						{/if}
					</button>
				</form>